<link rel="stylesheet" href="bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
<!-- Select2 -->
<link rel="stylesheet" href="bower_components/select2/dist/css/select2.min.css">
	
</style>
<div class="col-md-12">
		<b>Nota:</b><span> Recuerde que para guadar cambios en las secciones debe crear primero el registro en la secciòn de <b>"Personal"</b>.</span>
    <!-- Custom Tabs -->
    <div class="nav-tabs-custom">
      <ul class="nav nav-tabs">
        <li class="active" style="cursor:pointer;"><a data-toggle="tab" data-ng-click="registronuevo.selectTab(1)">Personal</a></li>
        <li class=""><a data-toggle="tab" style="cursor:pointer;" data-ng-click="registronuevo.selectTab(2)">Ubicación</a></li>
        <li class=""><a data-toggle="tab" style="cursor:pointer;" data-ng-click="registronuevo.selectTab(3)">Demográfica</a></li>
        <li class=""><a data-toggle="tab" style="cursor:pointer;" data-ng-click="registronuevo.selectTab(4)">Votación</a></li>
      </ul>
      <div class="tab-content">
        <div class="tab-pane active" id="tab_1">
        	<div class="row">

        		<div class="form-group col-md-12">
							<button type="button" class="btn btn-success" data-ng-click="registronuevo.limpiar(true)">Nuevo Registro</button>
						</div>

        		<div class="col-md-4">
              <img src="{{registronuevo.imagen}}" style="width: 120px; height: 100px;">
              <br>
              <button type="button" class="btn btn-success" style="margin-left: 17px; margin-bottom:10px; margin-top:10px" data-ng-click="registronuevo.abrirExplorador()" data-ng-disabled="registronuevo.deshabilitarGuardarCambios">Subir Foto</button>
              <input type="hidden" name="inputImagen" id="inputImagen" />
              <input accept="image/png, image/jpeg" type="file" id="archivos" name="archivos" style="display: none;" onchange="capturarArchivo(event)"/>
            </div>
            <div class="col-md-12"></div>

	          <div class="form-group col-md-4">
							<label>Nùmero de Cedula<span class="asteObli">*</span></label>
							<div class="input-group input-group-sm">
                <input type="text" class="form-control" placeholder="Nùmero de Cedula..." data-ng-model="registronuevo.registro.personal.documento" data-ng-keyup="registronuevo.buscarPersona()" numbers-Only/>
                    <span class="input-group-btn">
                      <button type="button" class="btn btn-success btn-flat" data-ng-click="registronuevo.buscarPersona()">Ir</button>
                    </span>
              </div>
						</div>
						<div class="form-group col-md-4">
							<label>Primer Nombre<span class="asteObli">*</span></label>
							<input type="text" class="form-control" placeholder="Primer Nombre..." data-ng-model="registronuevo.registro.personal.primerNombre" onkeyup="javascript:this.value=this.value.toUpperCase();"/>
						</div>
						<div class="form-group col-md-4">
							<label>Segundo Nombre</label>
							<input type="text" class="form-control" placeholder="Segundo Nombre..." data-ng-model="registronuevo.registro.personal.segundoNombre" onkeyup="javascript:this.value=this.value.toUpperCase();"/>
						</div>
						<div class="form-group col-md-4">
							<label>Primer Apellido<span class="asteObli">*</span></label>
							<input type="text" class="form-control" placeholder="Primer Apellido..." data-ng-model="registronuevo.registro.personal.primerApellido" onkeyup="javascript:this.value=this.value.toUpperCase();"/>
						</div>
						<div class="form-group col-md-4">
							<label>Segundo Apellido</label>
							<input type="text" class="form-control" placeholder="Segundo Apellido..." data-ng-model="registronuevo.registro.personal.segundoApellido" onkeyup="javascript:this.value=this.value.toUpperCase();"/>
						</div>
						<div class="form-group col-md-4">
							<label>Fecha de Nacimiento<span class="asteObli">*</span></label>
							<div class="input-group date">
					      <div class="input-group-addon">
					        <i class="fa fa-calendar"></i>
					      </div>
					      <input type="text" class="form-control pull-right" id="datepicker" data-ng-model="registronuevo.registro.personal.fechaNacimiento" autocomplete="off" />
					    </div>
						</div>
						<div class="form-group col-md-4">
							<label>Grupo Sanguineo y Factor RH<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-options="m as m.nombre for m in registronuevo.grupoSanguineoLista track by m.id" data-ng-model="registronuevo.registro.personal.grupoSanguineo"/>
						</div>
						<div class="form-group col-md-4">
							<label>Sexo<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-options="m as m.nombre for m in registronuevo.sexoLista track by m.id" data-ng-model="registronuevo.registro.personal.sexo"/>
						</div>
						<div class="form-group col-md-4">
							<label>Orientaciòn Sexual<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-options="m as m.nombre for m in registronuevo.orientacionSexualLista track by m.id" data-ng-model="registronuevo.registro.personal.orientacionSexual"/>
						</div>
						<div class="form-group col-md-4">
							<label>Estado Civil<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-options="m as m.nombre for m in registronuevo.estadoCivilLista track by m.id" data-ng-model="registronuevo.registro.personal.estadoCivil"/>
						</div>
						<div class="form-group col-md-4">
							<label>Correo Electronico</label>
							<input type="email" class="form-control" placeholder="Correo Electronico..." data-ng-model="registronuevo.registro.personal.correoElectronico"/>
						</div>
						<div class="form-group col-md-4">
							<label>Nùmero de Celular</label>
							<input type="text" class="form-control" placeholder="Nùmero de Celular..." data-ng-model="registronuevo.registro.personal.numeroCelular" numbers-Only/>
						</div>
						<div class="form-group col-md-4">
							<label>Nùmero de WhatsApp</label>
							<input type="text" class="form-control" placeholder="Nùmero de WhatsApp..." data-ng-model="registronuevo.registro.personal.numeroWhatsapp" numbers-Only/>
						</div>
						<div class="form-group col-md-4">
							<label>Lider<span class="asteObli">*</span></label>
							<div class="input-group input-group-sm">
						    <input type="text" class="form-control" placeholder="Nùmero de Cedula..." data-ng-model="registronuevo.lider" data-ng-keyup="registronuevo.buscarLider()" numbers-Only data-ng-disabled="!registronuevo.deshabilitarGuardarCambios"/>
						        <span class="input-group-btn">
						          <button type="button" class="btn btn-success btn-flat" data-ng-disabled="!registronuevo.deshabilitarGuardarCambios" data-ng-click="registronuevo.buscarLider()">Ir</button>
						        </span>
						  </div>
						  <span style="color: #2a4848; font-weight: bold; font-size: 15px;" data-ng-show="registronuevo.nombreLider!=''">{{registronuevo.nombreLider}}</span>
						  <span style="color: #CB1818; font-weight: bold; font-size: 15px;" data-ng-show="registronuevo.nombreLider==''">Ingrese un lider valido.</span>
						</div>
						<div class="form-group col-md-12">
							<button type="button" class="btn btn-success" data-ng-disabled="registronuevo.deshabilitarGuardarCambios" data-ng-click="registronuevo.guardarCambios(1)">Guardar Cambios</button>
						</div>
					</div>
        </div>
        <!-- /.tab-pane -->
        <div class="tab-pane" id="tab_2">
        	<div class="row">
        		<div class="form-group col-md-4">
							<label>Departamento<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-model="registronuevo.registro.ubicacion.departamento" data-ng-options="m as m.nombre for m in registronuevo.departamentoLista track by m.id" data-ng-change="registronuevo.cargarMunicipio(1)"/>
						</div>
						<div class="form-group col-md-4">
							<label>Ciudad/Municipio<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-model="registronuevo.registro.ubicacion.municipio" data-ng-options="m as m.nombre for m in registronuevo.municipioLista track by m.id" data-ng-disabled="registronuevo.registro.ubicacion.departamento.id==null" data-ng-change="registronuevo.cargarLocalidad(1)"/>
						</div>
						<div class="form-group col-md-4">
							<label>Localidad<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-model="registronuevo.registro.ubicacion.localidad" data-ng-options="m as m.nombre for m in registronuevo.localidadLista track by m.id" data-ng-disabled="registronuevo.registro.ubicacion.departamento.id==null || registronuevo.registro.ubicacion.municipio.id==null" data-ng-change="registronuevo.cargarComuna(1)"/>
						</div>
						<div class="form-group col-md-4">
							<label>Comuna<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-model="registronuevo.registro.ubicacion.comuna" data-ng-options="m as m.nombre for m in registronuevo.comunaLista track by m.id" data-ng-disabled="registronuevo.registro.ubicacion.departamento.id==null || registronuevo.registro.ubicacion.municipio.id==null || registronuevo.registro.ubicacion.localidad.id==null" data-ng-change="registronuevo.cargarBarrioVereda(1)"/>
						</div>
						<div class="form-group col-md-4">
							<label>Barrio/Vereda<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-model="registronuevo.registro.ubicacion.barrioVereda" data-ng-options="m as m.nombre for m in registronuevo.barrioVeredaLista track by m.id" data-ng-disabled="registronuevo.registro.ubicacion.departamento.id==null || registronuevo.registro.ubicacion.municipio.id==null || registronuevo.registro.ubicacion.localidad.id==null || registronuevo.registro.ubicacion.comuna.id==null"/>
						</div>
						<div class="form-group col-md-4">
							<label>Zona Residencia<span class="asteObli">*</span></label>
							<input type="text" class="form-control" data-ng-model="registronuevo.registro.ubicacion.barrioVereda.zonaResidencia" readonly="readonly" style="background-color: #fff" >
						</div>
						<div class="form-group col-md-4">
							<label>Tipo de Vivienda<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-model="registronuevo.registro.ubicacion.tipoVivienda" data-ng-options="m as m.nombre for m in registronuevo.tipoViviendaLista track by m.id"/>
						</div>
						<div class="form-group col-md-4">
							<label>Dirección Residencia<span class="asteObli">*</span></label>
							<input type="text" class="form-control" placeholder="Dirección Residencia..." data-ng-model="registronuevo.registro.ubicacion.direccionResidencia" onkeyup="javascript:this.value=this.value.toUpperCase();"/>
						</div>
						<div class="form-group col-md-12">
							<button type="button" class="btn btn-success" data-ng-disabled="registronuevo.deshabilitarGuardarCambios" data-ng-click="registronuevo.guardarCambios(2)">Guardar Cambios</button>
						</div>
					</div>
	      </div>
        <!-- /.tab-pane -->
        <div class="tab-pane" id="tab_3">
          <div class="row">
          	<div class="form-group col-md-4">
							<label>Estrato<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-model="registronuevo.registro.demografica.estrato" data-ng-options="m as m.nombre for m in registronuevo.estratoLista track by m.id"/>
						</div>
						<div class="form-group col-md-4">
							<label>Grupo SISBEN<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-model="registronuevo.registro.demografica.grupoSisben" data-ng-options="m as m.nombre for m in registronuevo.grupoSisbenLista track by m.id"/>
						</div>
						<div class="form-group col-md-4">
							<label>Discapacidad</label>
							<select class="form-control" data-ng-model="registronuevo.registro.demografica.discapacidad" data-ng-options="m as m.nombre for m in registronuevo.discapacidadLista track by m.id"/>
						</div>
						<div class="form-group col-md-4">
							<label>Grupo Étnico</label>
							<select class="form-control" data-ng-model="registronuevo.registro.demografica.grupoEtnico" data-ng-options="m as m.nombre for m in registronuevo.grupoEtnicoLista track by m.id"/>
						</div>
						<div class="form-group col-md-4">
							<label>Nivel Educativo</label>
							<select class="form-control" data-ng-model="registronuevo.registro.demografica.nivelEducativo" data-ng-options="m as m.nombre for m in registronuevo.nivelEducativoLista track by m.id"/>
						</div>
						<div class="form-group col-md-4">
							<label>Profesión/Arte</label>
							<select class="form-control" data-ng-model="registronuevo.registro.demografica.profesionArte" data-ng-options="m as m.nombre for m in registronuevo.profesionArteLista track by m.id"/>
						</div>
						<div class="form-group col-md-4">
							<label>Ocupación</label>
							<select class="form-control" data-ng-model="registronuevo.registro.demografica.ocupacion" data-ng-options="m as m.nombre for m in registronuevo.ocupacionLista track by m.id"/>
						</div>
						<div class="form-group col-md-4">
              <label>Servicios<span class="asteObli">*</span></label>
              <select class="form-control select2 select2-hidden-accessible" id="roni" multiple="" data-ng-model="registronuevo.registro.demografica.servicio" style="width: 100%;" tabindex="-1" aria-hidden="true">
              	<option data-ng-repeat="x in registronuevo.servicioLista track by x.id" value="{{x.id}}">{{x.nombre}}</option>
              </select>
            </div>
						<div class="form-group col-md-12">
							<button type="button" class="btn btn-success" data-ng-disabled="registronuevo.deshabilitarGuardarCambios" data-ng-click="registronuevo.guardarCambios(3)">Guardar Cambios</button>
						</div>
          </div>
        </div>
        <div class="tab-pane" id="tab_4">
          <div class="row">
          	<div class="form-group col-md-4">
							<label>NUIP<span class="asteObli">*</span></label>
							<input type="text" class="form-control" placeholder="NUIP..." data-ng-model="registronuevo.registro.personal.documento" readonly="readonly" style="background-color:#fff;" />
						</div>
						<div class="form-group col-md-4">
							<label>Departamento<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-model="registronuevo.registro.votacion.departamento" data-ng-options="m as m.nombre for m in registronuevo.departamentoVotacionLista track by m.id" data-ng-change="registronuevo.cargarMunicipioVotacion(1)"/>
						</div>
						<div class="form-group col-md-4">
							<label>Ciudad/Municipio<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-model="registronuevo.registro.votacion.municipio" data-ng-options="m as m.nombre for m in registronuevo.municipioVotacionLista track by m.id" data-ng-disabled="registronuevo.registro.votacion.departamento.id==null" data-ng-change="registronuevo.cargarPuesto(1)"/>
						</div>
						<div class="form-group col-md-4">
							<label>Puesto<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-model="registronuevo.registro.votacion.puesto" data-ng-options="m as m.nombre for m in registronuevo.puestoLista track by m.id" data-ng-disabled="registronuevo.registro.votacion.departamento.id==null || registronuevo.registro.votacion.municipio.id==null" data-ng-change="registronuevo.cargarDireccion(1)"/>
						</div>
						<div class="form-group col-md-4">
							<label>Dirección<span class="asteObli">*</span></label>
							<input type="text" class="form-control" placeholder="Dirección..." data-ng-model="registronuevo.registro.votacion.puesto.direccion" readonly="readonly" style="background-color:#fff;" />
						</div>
						<div class="form-group col-md-4">
							<label>Mesa<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-model="registronuevo.registro.votacion.mesa" data-ng-options="m as m.nombre for m in registronuevo.mesaLista track by m.id"/>
						</div>
						<div class="col-md-12">
							<h4>Intención de voto</h4>
							<hr style="margin-top: -5px">
						</div>
						<div class="form-group col-md-4">
							<label>Categoria Política<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-model="registronuevo.categoria" data-ng-options="m as m.nombre for m in registronuevo.categoriaLista" data-ng-change="registronuevo.cargarCandidato()" data-ng-disabled="registronuevo.registro.votacion.departamento.id==null || registronuevo.registro.votacion.municipio.id==null"/>
						</div>
						<div class="form-group col-md-5">
							<label>Candidato<span class="asteObli">*</span></label>
							<select class="form-control" data-ng-model="registronuevo.candidato" data-ng-options="m as m.nombre for m in registronuevo.candidatoLista" data-ng-disabled="registronuevo.registro.votacion.departamento.id==null || registronuevo.registro.votacion.municipio.id==null"/>
						</div>
						<div class="form-group col-md-3">
							<button type="button" class="btn btn-success btnHorizontal" data-ng-disabled="registronuevo.categoria.id==null || registronuevo.candidato.id==null" data-ng-click="registronuevo.agregarCandidato()" style="width: 45px;"><i class="fa fa-fw fa-plus"></i></button>
						</div>
						<div class="form-group col-md-12 table-responsive">
						  <table class="table" style="background-color: #fff">
						    <tbody>
						      <tr class="tableTr">
						        <th style="width: 10px">#</th>
						        <th>Categoria Política</th>
						        <th>Candidato</th>
						        <th style="width: 35px"></th>
						      </tr>
						      <tr data-ng-repeat="x in registronuevo.registro.votacion.intencionVoto" data-ng-show="x.eliminado == 1" class="trItem">
							    <td title="{{$index + 1}}">{{$index + 1}}</td>
							    <td title="{{x.categoriaNombre}}">{{x.categoriaNombre}}</td>
							    <td title="{{x.candidatoNombre}}">{{x.candidatoNombre}}</td>
							    <td>
							    	<button type="button" class="btn btn-danger btnLista" title="Eliminar" data-ng-click="registronuevo.eliminarCandidato(x)"><i class="fa fa-trash"></i></button>
							    </td>
							  </tr>
						    </tbody>
						  </table>
						</div>
						<div class="form-group col-md-12">
							<button type="button" class="btn btn-success" data-ng-disabled="registronuevo.deshabilitarGuardarCambios" data-ng-click="registronuevo.guardarCambios(4)">Guardar Cambios</button>
						</div>
          </div>
        </div>
        <!-- /.tab-pane -->
      </div>
      <!-- /.tab-content -->
    </div>
    <!-- nav-tabs-custom -->
  </div>

<div class="modal modal-success fade" id="modalBien">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				  <span aria-hidden="true">×</span></button>
				<h4 class="modal-title">Bien !</h4>
			</div>
			<div class="modal-body">
				<p>{{registronuevo.mensaje.mensaje}}</p>
			</div>
		</div>
  	</div>
</div>

<div class="modal modal-danger fade" id="modalError">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				  <span aria-hidden="true">×</span></button>
				<h4 class="modal-title">Error !</h4>
			</div>
			<div class="modal-body">
				<p>{{registronuevo.mensaje.mensaje}}</p>
			</div>
		</div>
  	</div>
</div>

<div class="modal modal-danger fade" id="modalValidate">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				  <span aria-hidden="true">×</span></button>
				<h4 class="modal-title">Faltan Datos</h4>
			</div>
			<div class="modal-body">
				<p id="validacionTexto"></p>
			</div>
		</div>
  	</div>
</div>

<!-- bootstrap datepicker -->
<script src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<!-- bootstrap color picker -->
<script src="bower_components/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js"></script>
<!-- Select2 -->
<script src="bower_components/select2/dist/js/select2.full.min.js"></script>


<script type="text/javascript">
	$(function () {

    //Date picker
    $('#datepicker').datepicker({
      autoclose: true,
      format: 'yyyy-mm-dd'
    })

    //Initialize Select2 Elements
    $('.select2').select2()

  })

  function capturarArchivo(e){
		$('#inputImagen').val(e.target.files[0].name);
  }
</script>